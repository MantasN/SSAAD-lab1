<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <title>TODO Editor</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <style>
        body {
            font-family: arial, sans-serif;
        }

        .validation {
            color: red;
        }
    </style>
</head>
<body>
    <h1>TODO Details</h1>
    <form action="#" th:action="@{/todo}" th:object="${todo}" method="POST">
        <input id="id" name="id" type="hidden" th:value="*{id}" th:field="*{id}">

        <table>
            <tr>
                <td><label for="title">Title:</label></td>
                <td><input type="text" th:field="*{title}" id="title"/></td>
                <td th:if="${#fields.hasErrors('title')}" th:errors="*{title}" class="validation">Title error</td>
            </tr>
            <tr>
                <td><label for="description">Description:</label></td>
                <td><textarea th:field="*{description}" id="description"/></td>
                <td th:if="${#fields.hasErrors('description')}" th:errors="*{description}" class="validation">Description error</td>
            </tr>
            <tr>
                <td><label for="dueDate">Due date:</label></td>
                <td><input type="date" th:value="*{dueDate}" th:field="*{dueDate}" id="dueDate"/></td>
                <td th:if="${#fields.hasErrors('dueDate')}" th:errors="*{dueDate}" class="validation">Due date error</td>
            </tr>
            <tr>
                <td><label for="priority">Priority:</label></td>
                <td>
                    <select th:field="*{priority}" id="priority">
                        <option th:each="priorityValue: ${allPriorityValues}" th:value="${priorityValue}" th:text="${priorityValue}"></option>
                    </select>
                </td>
                <td th:if="${#fields.hasErrors('priority')}" th:errors="*{priority}" class="validation">Priority error</td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <input type="submit" value="Save"/>
                </td>
            </tr>
        </table>
    </form>
</body>
</html>